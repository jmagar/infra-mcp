# Infrastructure Management MCP Server - Environment Variables
# Copy this file to .env and update the values for your environment

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL + TimescaleDB)
# =============================================================================

# PostgreSQL Database Configuration
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=infrastructor
POSTGRES_USER=infrastructor

# TimescaleDB Performance Tuning
TS_TUNE_MEMORY=1GB
TS_TUNE_NUM_CPUS=2
TS_TUNE_MAX_CONNS=100

# Database Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================

# FastMCP Server Settings
MCP_HOST=0.0.0.0
MCP_PORT=9101
MCP_PATH=/mcp
MCP_LOG_LEVEL=info

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================

# WebSocket Server for Real-time Streaming
WEBSOCKET_HOST=0.0.0.0
WEBSOCKET_PORT=9102
WEBSOCKET_MAX_CONNECTIONS=50

# =============================================================================
# SSH CONNECTION SETTINGS
# =============================================================================

# SSH Configuration for Device Communication
SSH_CONNECTION_TIMEOUT=10
SSH_COMMAND_TIMEOUT=30
SSH_MAX_RETRIES=3
SSH_RETRY_DELAY=5

# SSH Key Path (optional - defaults to ~/.ssh/id_ed25519)
SSH_KEY_PATH=

# =============================================================================
# POLLING & DATA COLLECTION
# =============================================================================

# Enable/Disable background polling service
POLLING_ENABLED=false

# Polling Intervals (in seconds)
POLLING_CONTAINER_INTERVAL=30
POLLING_SYSTEM_METRICS_INTERVAL=300
POLLING_DRIVE_HEALTH_INTERVAL=3600
POLLING_MAX_CONCURRENT_DEVICES=10

# =============================================================================
# DATA RETENTION POLICIES
# =============================================================================

# TimescaleDB Retention Settings
RETENTION_SYSTEM_METRICS_DAYS=30
RETENTION_DRIVE_HEALTH_DAYS=90
RETENTION_CONTAINER_SNAPSHOTS_DAYS=30

# Compression Settings
COMPRESSION_AFTER_DAYS=7

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Authentication (optional)
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# API Key Authentication (optional)
API_KEY=your-api-key-for-authentication

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging Settings
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=./logs/infrastructor.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Environment
ENVIRONMENT=development

# Debug Mode
DEBUG=false


# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Gotify Notifications
GOTIFY_URL=
GOTIFY_TOKEN=

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Cache Settings
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100

